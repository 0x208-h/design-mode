<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="execute">点击我执行命令</button>
    <button id="undo">点击我执行命令</button>
  </body>
  <script>
    var Tv = {
      open: function () {
        console.log("打开电视机");
      },
      close: function () {
        console.log("关上电视机");
      },
    };
    var OpenTvCommand = function (receiver) {
      console.log(receiver, 'receiver')
      this.receiver = receiver;
    };
    OpenTvCommand.prototype.execute = function () {
      this.receiver.open(); // 执行命令，打开电视机
    };
    OpenTvCommand.prototype.undo = function () {
      this.receiver.close(); // 撤销命令，关闭电视机
    };
    var setCommand = function (command) {
      console.log(command, 'command')
      document.getElementById("execute").onclick = function () {
        command.execute(); // 输出：打开电视机
      };
      document.getElementById("undo").onclick = function () {
        command.undo(); // 输出：关闭电视机
      };
    };
    setCommand(new OpenTvCommand(Tv));

    // const OpenTvCommand = function() {
    //   this.open = function() {
    //     console.log('打开电视机')
    //   }
    //   this.close = function() {
    //     console.log('关上电视机')
    //   }
    //   // this.execute = function() {
    //   //   this.open();
    //   // }
    //   this.undo = function() {
    //     this.close();
    //   }
    // }
    // OpenTvCommand.prototype.execute = function() {
    //   console.log(this, 'this')
    //   this.open();
    // }

    // OpenTvCommand.prototype.close = function() {
    //   this.close();
    // }

    // const openTV = new OpenTvCommand();
    // console.log(openTV, 'openTV');
    // document.getElementById('execute').onclick = function() {
    //   openTV.execute();
    // }

    // document.getElementById('undo').onclick = function(){
    //   openTV.undo();
    // }
  </script>
</html>
